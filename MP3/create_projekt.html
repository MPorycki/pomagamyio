<html>
    <head>
        <title>Pomagajmy.io</title>
        <link rel="stylesheet" href="css/main.css" />
        <link rel="stylesheet" href="css/create_projekt.css" />
    </head>
    <body>
            <div class="header">
                    <div onclick="location.href='index.html';" class="leftbuttons menubuttons">
                        <h4>Strona główna</h4>
                    </div>
                    <div onclick="location.href='all_projekty.html';" class="leftbuttons menubuttons">
                        <h4>Projekty</h4>
                    </div>
                    <div onclick="location.href='my_projekty.html';" class="leftbuttons menubuttons">
                        <h4>Moje Projekty</h4>
                    </div>
                    <div onclick="location.href='ranking.html';" class="leftbuttons menubuttons">
                        <h4>Ranking Serc</h4>
                    </div>
                    <div onclick="location.href='login.html';" class="menubuttons registrations">
                            <h4>Logowanie/Rejestracja</h4>
                    </div>
                </div>
        <div class="bigimage">
            <div>
            <h1>
                Rejestracja
            </h1>
            </div>
        </div>
        <div class="truebody">
            <h1>Opisz projekt, który chcesz zrealizować</h1>
            <form name="register" id="form" action="register_thx.html" target="_blank" method="POST" onsubmit="return validate_form()">
                <label class="namelebel" for="1">Nazwa inicjatywy</label>
                <input type="text" id="1" name="name"> 
                <label class="lebel" id="name_error"></label> <br>

                <label class="namelebel" for="2">Opis</label>
                <textarea id="2" form="form" style="height: 100px;" name="description"></textarea>
                <label class="lebel"id="description_error" ></label> <br>

                <label class="namelebel" for="3">Ile osób jest potrzebnych?</label>
                <input type="text" id="3" name="people_req"> 
                <label class="lebel" id="people_req_error"></label> <br>

                <label class="namelebel" for="4">Zdjęcie "profilowe"</label>
                <input type="file" id="4" name="profile_pic">
                <label class="lebel" ></label> <br>
                
                <label class="namelebel" for="5">Zdjęcie w tle<br><i>Min. szerokość 1280px</i></label>
                <input type="file" id="5" name="background_pic"> 
                <label class="lebel" ></label> <br>
                <h4>Lokalizacja</h4>
                <label class="namelebel" for="6">Miasto</label>
                <input type="text" id="6" name="city">
                <label class="lebel" ></label> <br>
                <label class="namelebel" for="6">Kod pocztowy</label>
                <input type="text" id="7" name="zip_code">
                <label class="lebel" ></label> <br>
                <label class="namelebel" for="6">Ulica</label>
                <input type="text" id="8" name="street">
                <label class="lebel" ></label> <br>
                <label class="namelebel" for="6">Nr budynku</label>
                <input type="text" id="9" name="building_no">
                <label class="lebel" ></label> <br>
                <label class="namelebel" for="6">Nr Mieszkania</label>
                <input type="text" id="10" name="flat_no" value="Opcjonalne" style="color:grey">
                <label class="lebel" ></label> <br>
                <h4>Czy jest to dokładna lokalizacja projekty czy punkt zbiórki</h4>
                <div class="radio">
                    <input type="radio" name="location" value="exact"> Dokładna lokalizacja
                    <input type="radio" name="location" value="gathering" checked> Punkt zbiórki
                </div>
                <input type="submit" value="Zgłoś projekt">
            </form>
            
        </div>
        <script>
            function validate_form(){
                console.log("dziala");
                //return validate_name();
                return validate_description();
            }

            function add_error_text(element_name, text){
                var form = document.getElementById(element_name);
                form.textContent = text;
            }

            function validate_name(){
                var name_obj = document.forms["register"]["name"];
                name = name_obj.value;
                var name_regex = /[A-Z].*/;
                if (name.length > 24) {
                    name_obj.style.borderColor = "red";
                    add_error_text("name_error", "Nazwa jest za dluga");
                    return false;
                } else if (name.length == 0) {
                    name_obj.style.borderColor = "red";
                    add_error_text("name_error", "Projekt musi miec nazwę");
                    return false;
                } else if (!name_regex.test(name)){
                    name_obj.style.borderColor = "red";
                    add_error_text("name_error", "Nazwa musi zaczynac sie od duzej litery");
                    return false;
                }
            }

            function validate_description(){
                var descr_obj = document.forms["register"]["description"];
                var descr = descr_obj.value;
                var regex = /[A-Z].*\. ?[A-Z].*\.?/
                if (descr.length == 0){
                    descr_obj.style.borderColor = "red";
                    add_error_text("description_error", "Projekt musi mieć opis");
                    return false;
                } else if (descr.length > 2048) {
                    descr_obj.style.borderColor = "red";
                    add_error_text("description_error", "Opis jest za długi");
                    return false;
                } else if (!regex.test(descr)){
                    descr_obj.style.borderColor = "red";
                    add_error_text("description_error", "Opis musi mieć conajmniej 2 zdania");
                    return false;
                }
                descr_obj.style.borderColor = "grey";
                add_error_text("description_error", "");
                alert(descr);
                return false;
            }

            function validate_people_req(){

            }
        </script>

        <div class="footer">
            <p>Prowadzone przez Fundacja Pomagajmy.io</p> <br>
            <p> Ul. Pomocna 4 </p> <br>
            <p>05-222 Warszawa</p>
        </div>
    </body>
</html>